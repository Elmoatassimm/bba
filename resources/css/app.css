@import 'tailwindcss';

@plugin 'tailwindcss-animate';

@source '../views';
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';

@custom-variant dark (&:is(.dark *));

@theme {
    --font-sans:
        'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

    --radius-lg: var(--radius);
    --radius-md: calc(var(--radius) - 2px);
    --radius-sm: calc(var(--radius) - 4px);

    --color-background: var(--background);
    --color-foreground: var(--foreground);

    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);

    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);

    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);

    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);

    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);

    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);

    --color-destructive: var(--destructive);
    --color-destructive-foreground: var(--destructive-foreground);

    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);

    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);

    --color-sidebar: var(--sidebar);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }
}

:root {
    --background: oklch(1 0 0);
    --foreground: oklch(0.145 0 0);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.145 0 0);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.145 0 0);
    --primary: oklch(0.205 0 0);
    --primary-foreground: oklch(0.985 0 0);
    --secondary: oklch(0.97 0 0);
    --secondary-foreground: oklch(0.205 0 0);
    --muted: oklch(0.97 0 0);
    --muted-foreground: oklch(0.556 0 0);
    --accent: oklch(0.97 0 0);
    --accent-foreground: oklch(0.205 0 0);
    --destructive: oklch(0.577 0.245 27.325);
    --destructive-foreground: oklch(0.577 0.245 27.325);
    --border: oklch(0.922 0 0);
    --input: oklch(0.922 0 0);
    --ring: oklch(0.87 0 0);
    --chart-1: oklch(0.646 0.222 41.116);
    --chart-2: oklch(0.6 0.118 184.704);
    --chart-3: oklch(0.398 0.07 227.392);
    --chart-4: oklch(0.828 0.189 84.429);
    --chart-5: oklch(0.769 0.188 70.08);
    --radius: 0.625rem;
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: oklch(0.145 0 0);
    --sidebar-primary: oklch(0.205 0 0);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.97 0 0);
    --sidebar-accent-foreground: oklch(0.205 0 0);
    --sidebar-border: oklch(0.922 0 0);
    --sidebar-ring: oklch(0.87 0 0);
}

.dark {
    --background: oklch(0.145 0 0);
    --foreground: oklch(0.985 0 0);
    --card: oklch(0.145 0 0);
    --card-foreground: oklch(0.985 0 0);
    --popover: oklch(0.145 0 0);
    --popover-foreground: oklch(0.985 0 0);
    --primary: oklch(0.985 0 0);
    --primary-foreground: oklch(0.205 0 0);
    --secondary: oklch(0.269 0 0);
    --secondary-foreground: oklch(0.985 0 0);
    --muted: oklch(0.269 0 0);
    --muted-foreground: oklch(0.708 0 0);
    --accent: oklch(0.269 0 0);
    --accent-foreground: oklch(0.985 0 0);
    --destructive: oklch(0.396 0.141 25.723);
    --destructive-foreground: oklch(0.637 0.237 25.331);
    --border: oklch(0.269 0 0);
    --input: oklch(0.269 0 0);
    --ring: oklch(0.439 0 0);
    --chart-1: oklch(0.488 0.243 264.376);
    --chart-2: oklch(0.696 0.17 162.48);
    --chart-3: oklch(0.769 0.188 70.08);
    --chart-4: oklch(0.627 0.265 303.9);
    --chart-5: oklch(0.645 0.246 16.439);
    --sidebar: oklch(0.205 0 0);
    --sidebar-foreground: oklch(0.985 0 0);
    --sidebar-primary: oklch(0.985 0 0);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.269 0 0);
    --sidebar-accent-foreground: oklch(0.985 0 0);
    --sidebar-border: oklch(0.269 0 0);
    --sidebar-ring: oklch(0.439 0 0);
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
    }

    /* Mermaid diagram styles */
    .mermaid-diagram {
        @apply overflow-auto rounded border p-4;
    }

    .mermaid-diagram svg {
        @apply mx-auto max-w-full;
    }

    /* Dark mode support for Mermaid diagrams */
    .dark .mermaid-diagram .label {
        @apply fill-white text-white;
    }

    .dark .mermaid-diagram .node rect,
    .dark .mermaid-diagram .node circle,
    .dark .mermaid-diagram .node ellipse,
    .dark .mermaid-diagram .node polygon,
    .dark .mermaid-diagram .node path {
        @apply fill-gray-800 stroke-gray-600;
    }

    .dark .mermaid-diagram .edgePath .path {
        @apply stroke-gray-400;
    }

    /* Markdown content styles */
    .markdown-content h1,
    .markdown-content h2,
    .markdown-content h3,
    .markdown-content h4,
    .markdown-content h5,
    .markdown-content h6 {
        @apply font-bold;
    }

    .markdown-content h1 {
        @apply text-2xl mt-6 mb-4;
    }

    .markdown-content h2 {
        @apply text-xl mt-5 mb-3;
    }

    .markdown-content h3 {
        @apply text-lg mt-4 mb-2;
    }

    .markdown-content p {
        @apply my-2;
    }

    .markdown-content ul {
        @apply list-disc pl-6 my-3;
    }

    .markdown-content ol {
        @apply list-decimal pl-6 my-3;
    }

    .markdown-content li {
        @apply my-1;
    }

    .markdown-content blockquote {
        @apply border-l-4 border-gray-300 dark:border-gray-600 pl-4 py-1 my-3 text-gray-700 dark:text-gray-300 italic;
    }

    .markdown-content pre {
        @apply bg-gray-100 dark:bg-gray-800 rounded p-3 my-4 overflow-x-auto;
    }

    .markdown-content code {
        @apply bg-gray-100 dark:bg-gray-800 rounded px-1 py-0.5 text-sm font-mono;
    }

    .markdown-content a {
        @apply text-blue-600 dark:text-blue-400 hover:underline;
    }

    .markdown-content hr {
        @apply my-6 border-gray-300 dark:border-gray-700;
    }

    .markdown-content table {
        @apply min-w-full divide-y divide-gray-300 dark:divide-gray-700 my-4;
    }

    .markdown-content th {
        @apply px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider;
    }

    .markdown-content td {
        @apply px-3 py-2 whitespace-nowrap text-sm;
    }

    /* Expanded diagram styles */
    .expanded-diagram .mermaid-diagram {
        @apply max-w-full overflow-auto;
    }

    .expanded-diagram .mermaid svg {
        @apply max-h-[80vh] max-w-full;
    }

    /* Mermaid renderer styles */
    .mermaid-renderer {
        @apply relative overflow-hidden rounded-md;
    }

    .mermaid-renderer svg {
        @apply max-w-full;
    }

    /* Improve diagram node styles */
    .mermaid .node rect,
    .mermaid .node circle,
    .mermaid .node ellipse,
    .mermaid .node polygon,
    .mermaid .node path {
        @apply stroke-gray-400 dark:stroke-gray-600 fill-white dark:fill-gray-800;
    }

    /* Improve diagram text styles */
    .mermaid .label {
        @apply text-gray-900 dark:text-gray-100 font-medium;
    }

    /* Improve diagram edge styles */
    .mermaid .edgePath .path {
        @apply stroke-gray-500 dark:stroke-gray-400;
    }

    /* Improve diagram arrow styles */
    .mermaid .arrowheadPath {
        @apply fill-gray-500 dark:fill-gray-400;
    }

    /* Improve cluster styles */
    .mermaid .cluster rect {
        @apply fill-gray-50 dark:fill-gray-900 stroke-gray-300 dark:stroke-gray-700;
    }

    /* Mindmap specific styles */
    .mermaid .mindmap-node > rect {
        @apply fill-white dark:fill-gray-800 stroke-gray-400 dark:stroke-gray-600;
    }

    .mermaid .mindmap-node > circle {
        @apply fill-white dark:fill-gray-800 stroke-gray-400 dark:stroke-gray-600;
    }

    .mermaid .mindmap-node > ellipse {
        @apply fill-white dark:fill-gray-800 stroke-gray-400 dark:stroke-gray-600;
    }

    .mermaid .mindmap-node > polygon {
        @apply fill-white dark:fill-gray-800 stroke-gray-400 dark:stroke-gray-600;
    }

    .mermaid .mindmap-node > path {
        @apply stroke-gray-400 dark:stroke-gray-600;
    }

    .mermaid .mindmap-node text {
        @apply text-gray-900 dark:text-gray-100 font-medium;
    }

    .mermaid .mindmap-edge {
        @apply stroke-gray-500 dark:stroke-gray-400;
    }
}
